<html>
	<head>
		<script src="js/mail-generator.js"></script>
		<link href="css/style.css" rel="stylesheet" media="screen">
    <script>
      window.onload = function(){
        // ALL OF YOUR JAVASCRIPT CODE SHOULD GO HERE. 
        // We have to use window.onload so your JavaScript doesn't execute until the page has loaded and all HTML has been downloaded to your browser      

        //MAIN FUNCTIONALITY
        var mainElement = document.getElementById('master'); 
       // console.log(mainElement);       

        for (var index = 0; index < window.geemails.length; index++) {
          var currentMessage = window.geemails[index];
          // currentMessage = {
          //   sender: 'Some sender',
          //   body: 'some body',
          //   date: Date.now(),
          //   subject: 'Some Subject'
          // }
          var sender = currentMessage.sender;
          var body = currentMessage.body;
          var date = currentMessage.date;
          var subject = currentMessage.subject;
          
          var mySenderElement = document.createElement('div');
          mySenderElement.innerHTML = sender;
          mainElement.appendChild(mySenderElement);
          
          var myBodyElement = document.createElement('div');
          myBodyElement.innerHTML = body;
          mainElement.appendChild(myBodyElement);
          
          var myDateElement = document.createElement('div');
          myDateElement.innerHTML = date;
          mainElement.appendChild(myDateElement);
          
          var mySubjectElement = document.createElement('div');
          mySubjectElement.innerHTML = subject;
          mainElement.appendChild(mySubjectElement);
          mySubjectElement.className = 'subject';
        }
        function addNewMessage(){
          //  console.log(addNewMessage);
          // Get the new message.
          var message = getNewMessage();
          //console.log(message);
          var sender = message.sender;
          //console.log(sender);
          var body = message.body;
          // Add new message to page.
          var subject = message.subject;
          //console.log(subject);
          var date = message.date;

        //  var myMessageElement = document.createElement('div');
         // myMessageElement.innerHTML = message;
         // mainElement.appendChild(myMessageElement);

          var mySenderElement = document.createElement('div');
          mySenderElement.innerHTML = sender;
          mainElement.appendChild(mySenderElement);

          var mySubjectElement = document.createElement('div');
          mySubjectElement.innerHTML = subject;
          mainElement.appendChild(mySubjectElement);

          var myDateElement = document.createElement('div');
          myDateElement.innerHTML = date;
          mainElement.appendChild(myDateElement);

          var myBodyElement = document.createElement('div');
          myBodyElement.innerHTML = body;
          mainElement.appendChild(myBodyElement);       
        }
        var interval = setInterval(addNewMessage, 2000); 
      };
    </script>
	</head>
  <title>Gee-Mail</title>
	<body>
		<div class="container" id="master">
      <div>
        Inbox
         <h1>weathergreen</h1>
      </div>
            <div>
        Some sender
      </div>
		</div>
	</body>
</html>